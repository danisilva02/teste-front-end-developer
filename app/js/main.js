!function t(e,n,o){function a(r,d){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!d&&c)return c(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+r+"'")}var s=n[r]={exports:{}};e[r][0].call(s.exports,function(t){var n=e[r][1][t];return a(n?n:t)},s,s.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(t,e,n){e.exports=function(t,e){function n(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(t,e){var n=e.caseInsensitiveMatch,o={originalPath:t,regexp:t},a=o.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,o){var i="?"===o?o:null,r="*"===o?o:null;return a.push({name:n,optional:!!i}),e=e||"",""+(i?"":e)+"(?:"+(i?e:"")+(r&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$\*])/g,"\\$1"),o.regexp=new RegExp("^"+t+"$",n?"i":""),o}var o={};this.when=function(e,a){if(o[e]=t.extend({reloadOnSearch:!0},a,e&&n(e,a)),e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";o[i]=t.extend({redirectTo:e},n(i,a))}return this},this.otherwise=function(t){return this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,a,i,r,d,c,s,l){function u(t,e){var n=e.keys,o={};if(!e.regexp)return null;var a=e.regexp.exec(t);if(!a)return null;for(var i=1,r=a.length;r>i;++i){var d=n[i-1],c="string"==typeof a[i]?decodeURIComponent(a[i]):a[i];d&&c&&(o[d.name]=c)}return o}function f(){var e=h(),o=m.current;e&&o&&e.$$route===o.$$route&&t.equals(e.pathParams,o.pathParams)&&!e.reloadOnSearch&&!g?(o.params=e.params,t.copy(o.params,i),n.$broadcast("$routeUpdate",o)):(e||o)&&(g=!1,n.$broadcast("$routeChangeStart",e,o),m.current=e,e&&e.redirectTo&&(t.isString(e.redirectTo)?a.path(p(e.redirectTo,e.params)).search(e.params).replace():a.url(e.redirectTo(e.pathParams,a.path(),a.search())).replace()),r.when(e).then(function(){if(e){var n,o,a=t.extend({},e.resolve);return t.forEach(a,function(e,n){a[n]=t.isString(e)?d.get(e):d.invoke(e)}),t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(o=e.templateUrl)&&(t.isFunction(o)&&(o=o(e.params)),o=l.getTrustedResourceUrl(o),t.isDefined(o)&&(e.loadedTemplateUrl=o,n=c.get(o,{cache:s}).then(function(t){return t.data}))),t.isDefined(n)&&(a.$template=n),r.all(a)}}).then(function(a){e==m.current&&(e&&(e.locals=a,t.copy(e.params,i)),n.$broadcast("$routeChangeSuccess",e,o))},function(t){e==m.current&&n.$broadcast("$routeChangeError",e,o,t)}))}function h(){var n,i;return t.forEach(o,function(o,r){!i&&(n=u(a.path(),o))&&(i=e(o,{params:t.extend({},a.search(),n),pathParams:n}),i.$$route=o)}),i||o[null]&&e(o[null],{params:{},pathParams:{}})}function p(e,n){var o=[];return t.forEach((e||"").split(":"),function(t,e){if(0===e)o.push(t);else{var a=t.match(/(\w+)(.*)/),i=a[1];o.push(n[i]),o.push(a[2]||""),delete n[i]}}),o.join("")}var g=!1,m={routes:o,reload:function(){g=!0,n.$evalAsync(f)}};return n.$on("$locationChangeSuccess",f),m}]}function o(){this.$get=function(){return{}}}function a(e,n,o){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,r,d,c){function s(){h&&(h.remove(),h=null),u&&(u.$destroy(),u=null),f&&(o.leave(f,function(){h=null}),h=f,f=null)}function l(){var r=e.current&&e.current.locals,d=r&&r.$template;if(t.isDefined(d)){var l=a.$new(),h=e.current,m=c(l,function(e){o.enter(e,null,f||i,function(){!t.isDefined(p)||p&&!a.$eval(p)||n()}),s()});f=m,u=h.scope=l,u.$emit("$viewContentLoaded"),u.$eval(g)}else s()}var u,f,h,p=r.autoscroll,g=r.onload||"";a.$on("$routeChangeSuccess",l),l()}}}function i(t,e,n){return{restrict:"ECA",priority:-400,link:function(o,a){var i=n.current,r=i.locals;a.html(r.$template);var d=t(a.contents());if(i.controller){r.$scope=o;var c=e(i.controller,r);i.controllerAs&&(o[i.controllerAs]=c),a.data("$ngControllerController",c),a.children().data("$ngControllerController",c)}d(o)}}}var r=t.module("ngRoute",["ng"]).provider("$route",n);r.provider("$routeParams",o),r.directive("ngView",a),r.directive("ngView",i),a.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}},{}],2:[function(t,e,n){e.exports=function(){return{BASE_URL:"http://192.241.152.185/"}}},{}],3:[function(t,e,n){e.exports=function(t,e,n,o){t.getApi=n,t.allUlrs=o()}},{}],4:[function(t,e,n){e.exports=function(t,e,n){e.subheader=[{name:"Solicitantes"},{name:"Materiais"},{name:"Insumos"},{name:"Pedidos"}];n.getSolicitantes(),n.getMateriais(),n.getInsumos(),n.getPedidos();console.log("Testendo promise")}},{}],5:[function(t,e,n){e.exports=function(t,e,n,o){function a(e){var a=[],r=[];angular.forEach(e,function(t){var e=t.data_de_compra.substring(0,10);a.push(e)}),getDataPedido1=n.getAllPedidosbyData(a[0]),getDataPedido1.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),getDataPedido2=n.getAllPedidosbyData(a[1]),getDataPedido2.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),getDataPedido3=n.getAllPedidosbyData(a[2]),getDataPedido3.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),getDataPedido4=n.getAllPedidosbyData(a[3]),getDataPedido4.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),getDataPedido5=n.getAllPedidosbyData(a[4]),getDataPedido5.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),getDataPedido6=n.getAllPedidosbyData(a[5]),getDataPedido6.then(function(t){t.data.length>0&&(r.push(t.data.length),i(t.data))},function(){r[0]=0}),o.Pedidospordia(a,r,"myChart-1"),t.quantPedidoByData=r}function i(e){angular.forEach(e,function(e){t.dataTable.unshift(e)})}function r(){u.then(function(e){t.allSolicitantes=e.data,c(e.data)},function(t){console.log(t)})}function d(t){var e=[];return angular.forEach(t,function(t){e.push(t.nome)}),e}function c(e){t.solicitantePedidoArray=[];var a=n.getPedidoBySolicitantes(e[0].id),i=n.getPedidoBySolicitantes(e[1].id),r=n.getPedidoBySolicitantes(e[2].id),c=n.getPedidoBySolicitantes(e[3].id);a.then(function(e){e.data.length>0&&t.solicitantePedidoArray.push(e.data.length)},function(t){console.log(t)}),i.then(function(e){e.data.length>0&&t.solicitantePedidoArray.push(e.data.length)},function(t){console.log(t)}),r.then(function(e){e.data.length>0&&t.solicitantePedidoArray.push(e.data.length)},function(t){console.log(t)}),c.then(function(e){e.data.length>0&&t.solicitantePedidoArray.push(e.data.length)},function(t){console.log(t)});var s=d(t.allSolicitantes);o.PedidosporSolicitantes(s,t.solicitantePedidoArray,"myChart-2")}function s(){var e=n.pedidoPendentes();e.then(function(e){t.pedidoPendente=e.data},function(t){})}function l(){angular.forEach(t.subheader,function(t){$("#"+t.link).removeClass("active-link")})}t.dashboard1=!1,t.dashboard2=!1,t.dashboard3=!1,t.initDash=!0,t.subheader=[{name:"Pedidos por dia",link:"dashboard-1",id:1},{name:"Pedidos por solicitantes",link:"dashboard-2",id:2},{name:"Pedidos pendente",link:"dashboard-3",id:3}];var u=n.getSolicitantes();t.allSolicitantes;var f=(n.getMateriais(),n.getInsumos(),n.getPedidos(),n.getPedidoByData());t.dataTable=[],f.then(function(t){var e=t.data;a(e)},function(t){}),r(),s(),t.getDash=function(e){switch(t.initDash=!1,l(),e.id){case 1:t.dashboard1=!0,t.dashboard2=!1,t.dashboard3=!1,$("#"+e.link).addClass("active-link");break;case 2:t.dashboard1=!1,t.dashboard2=!0,t.dashboard3=!1,$("#"+e.link).addClass("active-link");break;case 3:t.dashboard1=!1,t.dashboard2=!1,t.dashboard3=!0,$("#"+e.link).addClass("active-link")}}}},{}],6:[function(t,e,n){e.exports=function(t,e,n){e.activeTematico=!1}},{}],7:[function(t,e,n){e.exports=function(t,e,n){function o(e){var o=n.getPedidoById(e);o.then(function(e){t.itemPedido=e.data[0],c(t.itemPedido.id_solicitante),u=t.itemPedido.id},function(t){})}function a(t){var e=n.getInsumoById(t);e.then(function(t){var e=t.data[0],n=e.id_material;d(n)},function(t){})}function i(t){var e=0;return angular.forEach(t,function(t){e+=t.preco*t.quantidade}),e}function r(t){var e=0;return angular.forEach(t,function(t){e+=t.quantidade}),e}function d(e){var o=n.getInsumosByMaterial(e);o.then(function(e){t.insumosData=e.data;var n=i(e.data),o=r(e.data);t.itemPedido.quantMaterial=o,t.itemPedido.precoTotal=n},function(t){}),console.log(o)}function c(e){var o=n.getSolicitanteById(e);o.then(function(e){t.itemSoli=e.data[0],t.itemSoli.ende=t.itemSoli.rua+""+t.itemSoli.numero+" - "+t.itemSoli.estado},function(t){})}t.activeLoad=!1,t.errorCep=!1;var s,l,u;t.buscaPrdido=!1,s=n.getMateriais(),l=n.getInsumos(),s.then(function(e){t.materiaisDatas=e.data},function(t){}),l.then(function(t){console.log(t)},function(t){}),t.filterPedido=function(e){t.buscaPrdido=!0,o(e),a(e)},t.setEndereco=function(e){if(t.activeLoad=!0,t.errorCep=!1,e.length>0)var o=e.replace(/-/g,"");if(8==o.length){var a=n.getCep(o);a.then(function(e){console.log(e),e.data?(t.itemSoli.cep=e.data.cep,t.itemSoli.ende=e.data.logradouro+" - "+e.data.bairro,t.itemSoli.cidade=e.data.localidade,t.itemSoli.estado=e.data.uf,t.activeLoad=!1,t.errorCep=!1):t.errorCep=!0},function(e){t.errorCep=!0})}},t.activeModal=function(){$(".modal").show()},t.closeModal=function(){$(".modal").hide()},t.addInsumo=function(e){console.log(e),console.log(u);var n=JSON.parse(e.item);t.insumosData.push({id:null,id_pedido:u,id_material:n.id,descricao:e.desc,preco:28.85,quantidade:e.quant,marca:n.marca}),t.newInsumo.desc="",t.newInsumo.quant="";var o=i(t.insumosData),a=r(t.insumosData);t.itemPedido.quantMaterial=a,t.itemPedido.precoTotal=o,$(".modal").hide()},t.removeInsumo=function(e){delete t.insumosData[e]}}},{}],8:[function(t,e,n){e.exports=function(){return{Pedidospordia:function(t,e,n){var o=document.getElementById(n);new Chart(o,{type:"pie",data:{labels:t,datasets:[{data:e,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#FF2260","#FF36EB","#366A36"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#FF2260","#FF36EB","#366A36"]}]},options:{animation:{animateScale:!0}}});return!0},PedidosporSolicitantes:function(t,e,n){console.log(t),console.log(e),console.log(n);var o=document.getElementById(n);new Chart(o,{type:"pie",data:{labels:t,datasets:[{data:e,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#FF2260"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#FF2260"]}]},options:{animation:{animateScale:!0}}});return!0}}}},{}],9:[function(t,e,n){var o=(t("angular-router-browserify")(angular),t("./config/run")),a=t("./controllers/main"),i=t("./routes/Routes"),r=t("./config/config"),d=t("./services/service"),c=t("./controllers/dashboard"),s=t("./controllers/administracao"),l=t("./controllers/processo"),u=t("./factory/createDashboard");angular.module("app",["ngRoute","ngAnimate"]).run(["$rootScope","$timeout","$http","APP_SETTINGS",o]).constant("APP_SETTINGS",r).service("aplicativoAPI",["$http","APP_SETTINGS",d]).factory("createDash",u).controller("main",["$scope","$rootScope","APP_SETTINGS",a]).controller("dashboard",["$scope","$rootScope","aplicativoAPI","createDash",c]).controller("administracao",["$scope","$rootScope","aplicativoAPI",s]).controller("processo",["$scope","$rootScope","aplicativoAPI",l]).config(["$routeProvider",i])},{"./config/config":2,"./config/run":3,"./controllers/administracao":4,"./controllers/dashboard":5,"./controllers/main":6,"./controllers/processo":7,"./factory/createDashboard":8,"./routes/Routes":10,"./services/service":11,"angular-router-browserify":1}],10:[function(t,e,n){e.exports=function(t){t.when("/",{controller:"main",templateUrl:"views/includes/container.html"}),t.when("/dashboard",{controller:"dashboard",controllerAs:"vm",templateUrl:"views/includes/dashboard.html"}),t.when("/administracao",{controller:"administracao",controllerAs:"vm",templateUrl:"views/includes/administracao.html"}),t.when("/processo",{controller:"processo",controllerAs:"vm",templateUrl:"views/includes/processo.html"})}},{}],11:[function(t,e,n){e.exports=function(t,e){var n=function(){return t.get(e().BASE_URL+"SELECT * FROM solicitantes ORDER BY nome ASC limit 5")},o=function(){return t.get(e().BASE_URL+"SELECT * FROM materiais ORDER BY nome ASC")},a=function(){return t.get(e().BASE_URL+"SELECT * FROM insumos")},i=function(){return t.get(e().BASE_URL+"SELECT * FROM pedidos")},r=function(n){return t.get(e().BASE_URL+"SELECT * FROM pedidos WHERE id ="+n)},d=function(n){return t.get(e().BASE_URL+"SELECT * FROM insumos WHERE id_pedido ="+n)},c=function(n){return t.get(e().BASE_URL+"SELECT * FROM solicitantes WHERE id = "+n)},s=function(n){return t.get(e().BASE_URL+"SELECT * FROM insumos INNER JOIN materiais ON insumos.id_material = materiais.id WHere insumos.id_material = "+n)},l=function(e){return t.get("https://viacep.com.br/ws/"+e+"/json/")},u=function(n){return t.get(e().BASE_URL+"Select distinct(data_de_compra) from pedidos ORDER BY data_de_compra  limit 6")},f=function(n){return t.get(e().BASE_URL+'SELECT * FROM pedidos WHERE INSTR(data_de_compra, "'+n+'") > 0')},h=function(n){return n?t.get(e().BASE_URL+"SELECT * FROM pedidos WHERE id_solicitante = "+n):void 0},p=function(){return t.get(e().BASE_URL+"SELECT pedidos.*, solicitantes.* FROM pedidos INNER JOIN solicitantes  ON pedidos.id_solicitante = solicitantes.id")};return{getSolicitantes:n,getMateriais:o,getInsumos:a,getPedidos:i,getPedidoById:r,getInsumoById:d,getSolicitanteById:c,getInsumosByMaterial:s,getCep:l,getPedidoByData:u,getAllPedidosbyData:f,getPedidoBySolicitantes:h,pedidoPendentes:p}}},{}]},{},[9]);